# ARW Manifest v0.2 - YAML Example
# This example demonstrates the new v0.2 schema features

version: "0.2.0"
profile: ARW-2

site:
  name: "Example Corp"
  description: "Demonstrating ARW v0.2 with dual format support"
  homepage: "https://example.com"
  contact: "ai@example.com"

content:
  - url: "https://example.com/"
    machine_view: "https://example.com/index.llm.md"
    purpose: "Homepage - company overview and mission"
    priority: high
    chunks:
      - id: "intro"
        heading: "Company Introduction"
        description: "Overview of Example Corp and our mission"
      - id: "features"
        heading: "Key Features"
        description: "Main product features and capabilities"

  - url: "https://example.com/docs"
    machine_view: "https://example.com/docs/api.llm.md"
    purpose: "API documentation"
    priority: medium

actions:
  - id: "create_post"
    name: "Create Post"
    description: "Create a new blog post"
    endpoint: "https://api.example.com/v1/posts"
    method: POST
    auth: oauth2
    scopes:
      - "posts:write"
    schema: "https://api.example.com/schemas/post.json"

protocols:
  - name: "ActivityPub"
    type: "activitypub"
    endpoint: "https://example.com/.well-known/activitypub"
    schema: "https://www.w3.org/ns/activitystreams"

oauth:
  authorization_url: "https://example.com/oauth/authorize"
  token_url: "https://example.com/oauth/token"
  scopes:
    - name: "posts:write"
      description: "Create and edit posts"
    - name: "posts:read"
      description: "Read posts"

policies:
  training:
    allowed: true
    note: "Content may be used for AI training with attribution"
  inference:
    allowed: true
    restrictions: "Must attribute source and respect rate limits"
  attribution:
    required: true
    format: "text"
    template: "Source: {site_name} - {url}"
  rate_limits:
    authenticated: 100
    unauthenticated: 10

# NEW in v0.2: Metadata section
metadata:
  serialization_formats:
    - yaml
    - json
  preferred_format: yaml

  discovery_mechanisms:
    - robots_txt
    - well_known
    - http_headers

  mime_types:
    preferred: text_plain
    fallback:
      - application_json
      - text_markdown

  http_headers:
    ai_version: "0.2.0"
    ai_profile: "ARW-2"
    ai_format: "yaml"

  platform_compatibility:
    tested_platforms:
      - name: "Next.js"
        version: "14.0.0"
        status: "compatible"
        tested_date: "2025-11-12"
      - name: "Express"
        version: "4.18.0"
        status: "compatible"
        tested_date: "2025-11-10"
      - name: "Astro"
        version: "4.0.0"
        status: "compatible"
        tested_date: "2025-11-08"

  agent_compatibility:
    tested_agents:
      - name: "Claude"
        version: "3.5"
        status: "full_support"
        test_results_url: "https://example.com/arw-tests/claude"
      - name: "GPT-4"
        version: "4.0"
        status: "full_support"
        test_results_url: "https://example.com/arw-tests/gpt4"
      - name: "Gemini"
        version: "1.5"
        status: "partial_support"
        test_results_url: "https://example.com/arw-tests/gemini"
